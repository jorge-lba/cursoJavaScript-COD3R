<h2>Imagens</h2>

<div wmslider>

    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem1.jpg"
        alt="Muro da Cidade"
            width="513" height="342"
            title="Muro sa Cidade por Tarso Bessa">
        </p>
        <p>
            <img src="http://files.cod3r.com.br/curso-web/imagem2.gif" 
            alt="Intro Cod3r"
            height="289">
        </p>
    <p class="circular">
        <img src="http://files.cod3r.com.br/curso-web/imagem3.png" 
        alt="Rio de Janeiro" 
        height="342">
    </p>
    <p class="text">
        <img src="http://files.cod3r.com.br/curso-web/avatar.jpg" 
        alt="Avatar" 
            height="50"
            align = "left">
            jojeorkn oiefrnosdiof kfdnoifnk pjrio apsodjioe jfoire dnm oopojpoj
            iohfw´oo  ok  oepio fjmd0o okok efrec. kopd kwpodkqw dwopdk oe peom
            eojtoem okokr epçlf pwk pk fopkeiwm pfweimpefk dwdkowk kdowk o po l lll
            dwojqok eiw nceocienwo.
    </p>
    <p class="city"></p>
    
    <p>
        <picture>
            <source srcset="http://files.cod3r.com.br/curso-web/logo-larga.png"
            media="(min-width: 600px)">
            <img src="http://files.cod3r.com.br/curso-web/logo-estreita.png">
        </picture>
    </p>
        
</div>
       
<style>
    p {
        position: absolute;
        display: none;
    }

    .circular {
        width: 513px;
        background-color: rgb(146, 146, 146);
    }
    .text{
        width: 400px;
    }

    .text img{
        margin-right: 10px;
    }
    .city{
        width: 513px;
        height: 342px;
        background-image: url('http://files.cod3r.com.br/curso-web/imagem4.jpg') ;
        background-position: center;
        background-repeat: no-repeat;
        background-size: 230%;
    }
</style>

<script>

    const toMove = (element, start, end, step, callback) =>{
        const newStart = start - step;
        if(newStart >= end){
            element.style.left = newStart + 'px';
            setTimeout(() => toMove(element, newStart, end, step, callback),10);
        }else{
            callback();
        }
    }

    // const p = document.querySelector('[wmslider] > p');
    // p.style.display = 'block';

    // toMove(p, 100, -520, 5, () =>{
    //     console.log('Terminou!')
    // })

    const slider = ()=>{
        const elements = document.querySelectorAll('[wmslider] > p');
        const slides = Array.from(elements);
        showSlide(slides, slides[0]);
    }

    const showSlide = (slides, slide)=>{
        slide.style.display = 'block';

        const start = innerWidth;
        const end = -slide.clientWidth;

        slide.style.left = `${start}px`

        toMove(slide, start, end, 5, ()=>{
            slide.style.display = 'none';
            showSlide(slides, getNext(slides, slide));
        })
    }

    const getNext = (list, current) =>{
        const index = list.indexOf(current) +1;
        return index < list.length ? list[index] : list [0]
    }

    slider();
</script>
